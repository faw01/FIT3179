{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Share of Renewable Energy in Primary Energy by Country",
  "width": 800,
  "height": 400,
  "projection": {"type": "equalEarth"},
  "data": {
      "url": "https://raw.githubusercontent.com/JiazhouLiu/FIT3179/main/VegaLite/3_choropleth_map/js/ne_110m_admin_0_countries.topojson",
      "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
  },
  "transform": [
      {
          "lookup": "properties.NAME",
          "from": {
              "data": {
                  "url": "D:\GitHub\FIT3179\Homework Assessment 9\/renewable-share-energy.csv"
              },
              "key": "Entity",
              "fields": ["Renewables (% equivalent primary energy)"]
          }
      },
      {"calculate": "datum['Renewables (% equivalent primary energy)'] + 0.1", "as": "Renewable Energy Percentage"}
  ],
  "mark": {"type": "geoshape"},
  "encoding": {
      "color": {
          "field": "Renewable Energy Percentage",
          "type": "quantitative",
          "scale": {"type": "log"},
          "legend": {
              "format": ".1%"
          }
      },
      "tooltip": [
          {"field": "properties.NAME", "type": "nominal", "title": "Country"},
          {"field": "Renewable Energy Percentage", "type": "quantitative", "format": ".1%", "title": "Renewable Energy Percentage"}
      ]
  }
}